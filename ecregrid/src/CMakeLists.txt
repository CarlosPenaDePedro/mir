list( APPEND ecregrid_srcs
      Anisotropy.cpp
      Anisotropy.h
      Area.cpp
      Area.h
      AsciiInput.cpp
      AsciiInput.h
      AsciiOutput.cpp
      AsciiOutput.h
      Average.cpp
      Average.h
      AverageLsm.cpp
      AverageLsm.h
      AverageWeightedReduced.cpp
      AverageWeightedReduced.h
      AverageWeightedReducedLsm.cpp
      AverageWeightedReducedLsm.h
      AverageWeightedRegular.cpp
      AverageWeightedRegular.h
      AverageWeightedRegularLsm.cpp
      AverageWeightedRegularLsm.h
      BiLinear.cpp
      BiLinear.h
      BiLinearBitmap.cpp
      BiLinearBitmap.h
      BiLinearLsm.cpp
      BiLinearLsm.h
      BiLinearLsmBitmap.cpp
      BiLinearLsmBitmap.h
      BiLinearLsmInteger.cpp
      BiLinearLsmInteger.h
      BiLinearPrecipitation.cpp
      BiLinearPrecipitation.h
      BinaryInput.cpp
      BinaryInput.h
      BinaryOutput.cpp
      BinaryOutput.h
      Bitmap.cpp
      Bitmap.h
      Conserving.cpp
      Conserving.h
      Constrains.cpp
      Constrains.h
      Cubic12pts.cpp
      Cubic12pts.h
      Cubic12ptsBitmap.cpp
      Cubic12ptsBitmap.h
      Cubic12ptsLsm.cpp
      Cubic12ptsLsm.h
      Cubic12ptsLsmBitmap.cpp
      Cubic12ptsLsmBitmap.h
      DefinitionsCache.cpp
      DefinitionsCache.h
      DerivedSubgridParameters.cpp
      DerivedSubgridParameters.h
      DirectFastFourierTransform.cpp
      DirectFastFourierTransform.h
      DoubleLinear.cpp
      DoubleLinear.h
      DoubleLinearBitmap.cpp
      DoubleLinearBitmap.h
      DoubleLinearBitmapAdjusted.cpp
      DoubleLinearBitmapAdjusted.h
      DoubleLinearLsm.cpp
      DoubleLinearLsm.h
      DoubleLinearLsmBitmap.cpp
      DoubleLinearLsmBitmap.h
      Exception.cpp
      Exception.h
      Extraction.cpp
      Extraction.h
      Factory.cpp
      Factory.h
      FastFourierTransform.cpp
      FastFourierTransform.h
      Field.cpp
      Field.h
      FieldDescription.cpp
      FieldDescription.h
      FieldDescriptionGribApi.cpp
      FieldDescriptionGribApi.h
      FieldFeatures.cpp
      FieldFeatures.h
      FieldIdentity.cpp
      FieldIdentity.h
      FieldPoint.cpp
      FieldPoint.h
      FluxConservingReduced.cpp
      FluxConservingReduced.h
      FluxConservingRegular.cpp
      FluxConservingRegular.h
      Frame.cpp
      Frame.h
      GTopo30.cpp
      GTopo30.h
      GTopo30Dem.cpp
      GTopo30Dem.h
      Gaussian.cpp
      Gaussian.h
      GribApiInput.cpp
      GribApiInput.h
      GribApiOutput.cpp
      GribApiOutput.h
      GribApiOutputGrid.cpp
      GribApiOutputGrid.h
      GribApiOutputSpectral.cpp
      GribApiOutputSpectral.h
      Grid.cpp
      Grid.h
      GridContext.h
      GridField.cpp
      GridField.h
      GridToGridTransformer.cpp
      GridToGridTransformer.h
      GridToSpectralTransformer.cpp
      GridToSpectralTransformer.h
      GridType.cpp
      GridType.h
      Input.cpp
      Input.h
      Interpolator.cpp
      Interpolator.h
      InterpolatorLsm.cpp
      InterpolatorLsm.h
      InverseFastFourierTransform.cpp
      InverseFastFourierTransform.h
      LatLon.cpp
      LatLon.h
      LegendrePolynomials.cpp
      LegendrePolynomials.h
      LegendrePolynomialsCollection.cpp
      LegendrePolynomialsCollection.h
      LegendrePolynomialsMemoryMap.cpp
      LegendrePolynomialsMemoryMap.h
      LegendrePolynomialsOnFly.cpp
      LegendrePolynomialsOnFly.h
      LegendrePolynomialsRead.cpp
      LegendrePolynomialsRead.h
      LegendrePolynomialsReadFromFile.cpp
      LegendrePolynomialsReadFromFile.h
      LegendrePolynomialsSharedMemory.cpp
      LegendrePolynomialsSharedMemory.h
      LegendreTransform.cpp
      LegendreTransform.h
      LegendreTransformCoefficientsToSpectral.cpp
      LegendreTransformCoefficientsToSpectral.h
      LegendreTransformSpectralToCoefficients.cpp
      LegendreTransformSpectralToCoefficients.h
      Linear.cpp
      Linear.h
      LinearBitmap.cpp
      LinearBitmap.h
      LinearFit3Times.cpp
      LinearFit3Times.h
      LinearFit3TimesBitmap.cpp
      LinearFit3TimesBitmap.h
      LinearFit3TimesLsm.cpp
      LinearFit3TimesLsm.h
      LinearFit3TimesLsmBitmap.cpp
      LinearFit3TimesLsmBitmap.h
      ListOfPoints.cpp
      ListOfPoints.h
      Lsm.cpp
      Lsm.h
      LsmEmos10minute.cpp
      LsmEmos10minute.h
      LsmFromGrid.cpp
      LsmFromGrid.h
      LsmPreDefined.cpp
      LsmPreDefined.h
      NearestNeigbour.cpp
      NearestNeigbour.h
      NearestNeigbourAdjusted.cpp
      NearestNeigbourAdjusted.h
      NearestNeigbourLsm.cpp
      NearestNeigbourLsm.h
      Orientation.cpp
      Orientation.h
      Output.cpp
      Output.h
      Parameter.cpp
      Parameter.h
      PartialDerivatives.cpp
      PartialDerivatives.h
      Point.cpp
      Point.h
      PolarStereographic.cpp
      PolarStereographic.h
      Projection.cpp
      Projection.h
      PseudoRegularGaussian.cpp
      PseudoRegularGaussian.h
      Reduced.cpp
      Reduced.h
      ReducedDataHelper.h
      ReducedDataHelperBool.h
      ReducedGaussian.cpp
      ReducedGaussian.h
      ReducedLatLon.cpp
      ReducedLatLon.h
      Regular.cpp
      Regular.h
      RegularDataHelper.h
      RegularDataHelperBool.h
      RegularDataIndexHelper.h
      RegularGaussian.cpp
      RegularGaussian.h
      RegularGridContext.h
      RegularLatLon.cpp
      RegularLatLon.h
      RegularLatLonCellCentered.cpp
      RegularLatLonCellCentered.h
      RotatedRegularLatLon.cpp
      RotatedRegularLatLon.h
      Rotation.cpp
      Rotation.h
      Seconds.cpp
      Seconds.h
      Slope.cpp
      Slope.h
      SpectralField.cpp
      SpectralField.h
      SpectralToGridTransformer.cpp
      SpectralToGridTransformer.h
      SpectralToListOfPointsTransformer.cpp
      SpectralToListOfPointsTransformer.h
      SpectralToRotatedGridTransformer.cpp
      SpectralToRotatedGridTransformer.h
      SpectralToSpectralTransformer.cpp
      SpectralToSpectralTransformer.h
      StrStream.h
      SubArea.cpp
      SubArea.h
      SubGrid.cpp
      SubGrid.h
      ThreadSafeMap.cpp
      ThreadSafeMap.h
      Transformer.cpp
      Transformer.h
      VerticalInterpolator.cpp
      VerticalInterpolator.h
      VerticalLinear.cpp
      VerticalLinear.h
      VerticalQuadratic.cpp
      VerticalQuadratic.h
      VerticalTransformer.cpp
      VerticalTransformer.h
      VerticalTransformerGrid.cpp
      VerticalTransformerGrid.h
      VerticalTransformerSpectral.cpp
      VerticalTransformerSpectral.h
      Wind.cpp
      Wind.h
      api/DFO.cpp
      api/DFO.h
      api/ITransformer.h
      api/ecField.h
      api/ecImpl.cpp
      api/ecImpl.h
      api/ecTransformer.cpp
      api/ecTransformer.h
      machine.h
      ecregrid_api.cpp
      ecregrid_api.h
      ref_counted_ptr.h
    )

if( EIGEN3_FOUND )
    list( APPEND ecregrid_srcs GridToGridMatrixTransformer.cpp GridToGridMatrixTransformer.h )
    endif()

    include_directories( api ${GribAPI_INCLUDE_DIRS}  ${eckit_INCLUDE_DIRS} )

    ecbuild_add_library( TARGET    ecregrid
                         SOURCES   ${ecregrid_srcs}  )
